# 01-äº§å“æ¦‚è¿°ä¸æŠ€æœ¯æ¶æ„

## ä¸€ã€äº§å“æ¦‚è¿°

### 1.1 äº§å“å®šä½
DevToolsKit æ˜¯ä¸€ä¸ªé¢å‘ç¨‹åºå‘˜çš„å…¨åŠŸèƒ½åœ¨çº¿å¼€å‘å·¥å…·ç®±ï¼Œæä¾›æ—¥å¸¸å¼€å‘ä¸­é«˜é¢‘ä½¿ç”¨çš„å®ç”¨å·¥å…·é›†åˆï¼Œæ— éœ€å®‰è£…å³å¯ä½¿ç”¨ï¼Œæ”¯æŒç¦»çº¿ä½¿ç”¨å’Œæœ¬åœ°éƒ¨ç½²ã€‚

### 1.2 ç›®æ ‡ç”¨æˆ·
- **å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ**: 40% - JSONæ ¼å¼åŒ–ã€CSSç”Ÿæˆã€ç¼–ç è½¬æ¢
- **åç«¯å¼€å‘å·¥ç¨‹å¸ˆ**: 30% - APIæµ‹è¯•ã€å“ˆå¸Œç”Ÿæˆã€æ­£åˆ™æµ‹è¯•
- **å…¨æ ˆå¼€å‘è€…**: 20% - ç»¼åˆä½¿ç”¨æ‰€æœ‰å·¥å…·
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: 5% - æ•°æ®å¯¹æ¯”ã€Mockç”Ÿæˆ
- **æŠ€æœ¯å­¦ç”Ÿ/è¿ç»´**: 5% - å­¦ä¹ ä½¿ç”¨ã€ç½‘ç»œå·¥å…·

### 1.3 æ ¸å¿ƒä»·å€¼ä¸»å¼ 
1. **ä¾¿æ·æ€§** - æ— éœ€å®‰è£…ï¼Œæ‰“å¼€æµè§ˆå™¨å³ç”¨ï¼ŒPWAæ”¯æŒç¦»çº¿ä½¿ç”¨
2. **å…¨é¢æ€§** - 50+å·¥å…·è¦†ç›–å¼€å‘å…¨æµç¨‹ï¼Œå‡å°‘å·¥å…·åˆ‡æ¢æˆæœ¬
3. **éšç§æ€§** - æ‰€æœ‰è®¡ç®—åœ¨å®¢æˆ·ç«¯å®Œæˆï¼Œä¸ä¸Šä¼ ä»»ä½•æ•°æ®
4. **é«˜æ•ˆæ€§** - å¿«é€Ÿå“åº”ï¼Œæ‰¹é‡å¤„ç†ï¼Œæå‡å¼€å‘æ•ˆç‡

---

## äºŒã€æŠ€æœ¯æ¶æ„è®¾è®¡

### 2.1 æŠ€æœ¯æ ˆé€‰å‹

#### 2.1.1 æ ¸å¿ƒæ¡†æ¶
```typescript
// æ¨èæ–¹æ¡ˆ A: React + Next.js
{
  framework: "Next.js 14+",
  ui: "React 18+",
  language: "TypeScript 5.3+",
  styling: "Tailwind CSS 3.4+",
  state: "Zustand 4.5+",
  build: "Turbopack"
}

// æ¨èæ–¹æ¡ˆ B: Vue 3 + Vite
{
  framework: "Vue 3.4+",
  ui: "Vue 3 Composition API",
  language: "TypeScript 5.3+",
  styling: "UnoCSS / Tailwind CSS",
  state: "Pinia 2.1+",
  build: "Vite 5.0+"
}
```

#### 2.1.2 æ ¸å¿ƒä¾èµ–åº“æ¸…å•

```json
{
  "dependencies": {
    // ä»£ç ç¼–è¾‘å™¨
    "@monaco-editor/react": "^4.6.0",
    // æˆ– "codemirror": "^6.0.1"

    // ä»£ç é«˜äº®
    "prismjs": "^1.29.0",
    // æˆ– "highlight.js": "^11.9.0"

    // æ–‡æœ¬å¯¹æ¯”
    "diff": "^5.2.0",
    "diff-match-patch": "^1.0.5",

    // åŠ å¯†ç›¸å…³
    "crypto-js": "^4.2.0",
    "bcrypt-js": "^2.4.3",

    // æ•°æ®å¤„ç†
    "js-yaml": "^4.1.0",
    "csvtojson": "^2.0.10",
    "xml2js": "^0.6.2",

    // æ–‡ä»¶å¤„ç†
    "file-saver": "^2.0.5",
    "react-dropzone": "^14.2.3",

    // äºŒç»´ç ç”Ÿæˆ
    "qrcode.react": "^3.1.0",

    // æ—¶é—´å¤„ç†
    "dayjs": "^1.11.10",

    // UUIDç”Ÿæˆ
    "uuid": "^9.0.1",

    // å‰ªè´´æ¿
    "clipboard": "^2.0.11",

    // å›¾æ ‡
    "lucide-react": "^0.309.0",

    // é€šçŸ¥
    "react-hot-toast": "^2.4.1",

    // æ­£åˆ™è¡¨è¾¾å¼
    "regex": "^0.1.1"
  },
  "devDependencies": {
    "@types/node": "^20.10.0",
    "@types/react": "^18.2.0",
    "eslint": "^8.56.0",
    "prettier": "^3.1.0",
    "vitest": "^1.1.0",
    "playwright": "^1.40.0"
  }
}
```

### 2.2 é¡¹ç›®ç›®å½•ç»“æ„

```
devtools-kit/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx             # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ globals.css          # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ tools/               # å·¥å…·é¡µé¢è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ json/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx     # /tools/json
â”‚   â”‚       â”œâ”€â”€ base64/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx     # /tools/base64
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ components/               # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ToolLayout.tsx   # å·¥å…·é¡µé¢é€šç”¨å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ ui/                  # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Select.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Textarea.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Tabs.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Toast.tsx
â”‚   â”‚   â”œâ”€â”€ editor/              # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CodeEditor.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DiffEditor.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SplitView.tsx    # åˆ†å±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ tools/               # å·¥å…·ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ json/
â”‚   â”‚       â”œâ”€â”€ base64/
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                     # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ utils/               # é€šç”¨å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ format.ts        # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ validate.ts      # éªŒè¯å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ convert.ts       # è½¬æ¢å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ storage.ts       # å­˜å‚¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ encoders/            # ç¼–è§£ç å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ base64.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ url.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ html.ts
â”‚   â”‚   â”‚   â””â”€â”€ unicode.ts
â”‚   â”‚   â”œâ”€â”€ crypto/              # åŠ å¯†ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ hash.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ aes.ts
â”‚   â”‚   â”‚   â””â”€â”€ rsa.ts
â”‚   â”‚   â”œâ”€â”€ parsers/             # è§£æå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ json.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ yaml.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ csv.ts
â”‚   â”‚   â”‚   â””â”€â”€ xml.ts
â”‚   â”‚   â””â”€â”€ constants/           # å¸¸é‡
â”‚   â”‚       â”œâ”€â”€ tools.ts         # å·¥å…·é…ç½®
â”‚   â”‚       â”œâ”€â”€ regex.ts         # å¸¸ç”¨æ­£åˆ™
â”‚   â”‚       â””â”€â”€ http.ts          # HTTPçŠ¶æ€ç 
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts   # æœ¬åœ°å­˜å‚¨Hook
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts       # é˜²æŠ–Hook
â”‚   â”‚   â”œâ”€â”€ useClipboard.ts      # å‰ªè´´æ¿Hook
â”‚   â”‚   â””â”€â”€ useToolHistory.ts    # å·¥å…·å†å²Hook
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                  # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ uiStore.ts           # UIçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ toolStore.ts         # å·¥å…·çŠ¶æ€
â”‚   â”‚   â””â”€â”€ settingsStore.ts     # è®¾ç½®çŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                   # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ tool.ts              # å·¥å…·ç±»å‹
â”‚   â”‚   â”œâ”€â”€ ui.ts                # UIç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                  # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ themes/
â”‚   â”‚   â”‚   â”œâ”€â”€ light.css
â”‚   â”‚   â”‚   â””â”€â”€ dark.css
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â””â”€â”€ public/                  # é™æ€èµ„æº
â”‚       â”œâ”€â”€ icons/
â”‚       â”œâ”€â”€ images/
â”‚       â””â”€â”€ manifest.json        # PWAé…ç½®
â”‚
â”œâ”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ e2e/                     # E2Eæµ‹è¯•
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ next.config.js               # Next.jsé…ç½®
â”œâ”€â”€ tailwind.config.ts           # Tailwindé…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

### 2.3 æ ¸å¿ƒè®¾è®¡æ¨¡å¼

#### 2.3.1 å·¥å…·æ³¨å†Œç³»ç»Ÿ

```typescript
// src/lib/constants/tools.ts
export interface ToolConfig {
  id: string;                    // å·¥å…·å”¯ä¸€æ ‡è¯†
  name: string;                  // å·¥å…·åç§°
  description: string;           // å·¥å…·æè¿°
  category: ToolCategory;        // å·¥å…·åˆ†ç±»
  icon: string;                  // å›¾æ ‡åç§°
  path: string;                  // è·¯ç”±è·¯å¾„
  keywords: string[];            // æœç´¢å…³é”®è¯
  priority: number;              // ä¼˜å…ˆçº§ï¼ˆç”¨äºæ’åºï¼‰
  badge?: string;                // å¾½ç« ï¼ˆå¦‚"HOT"ã€"NEW"ï¼‰
  features?: string[];           // åŠŸèƒ½åˆ—è¡¨
}

export enum ToolCategory {
  TEXT = 'text',                 // æ–‡æœ¬å¤„ç†
  ENCODER = 'encoder',           // ç¼–ç è½¬æ¢
  REGEX = 'regex',               // æ­£åˆ™è¡¨è¾¾å¼
  DATETIME = 'datetime',         // æ—¶é—´æ—¥æœŸ
  CONVERTER = 'converter',       // æ ¼å¼è½¬æ¢
  NETWORK = 'network',           // ç½‘ç»œå·¥å…·
  DEVELOPER = 'developer',       // å¼€å‘è¾…åŠ©
  FRONTEND = 'frontend',         // å‰ç«¯ä¸“ç”¨
}

export const tools: ToolConfig[] = [
  {
    id: 'json-formatter',
    name: 'JSON æ ¼å¼åŒ–',
    description: 'æ ¼å¼åŒ–ã€å‹ç¼©ã€éªŒè¯ JSON æ•°æ®',
    category: ToolCategory.TEXT,
    icon: 'Braces',
    path: '/tools/json',
    keywords: ['json', 'æ ¼å¼åŒ–', 'æ ¼å¼', 'éªŒè¯'],
    priority: 1,
    badge: 'HOT',
    features: ['æ ¼å¼åŒ–', 'å‹ç¼©', 'éªŒè¯', 'è½¬CSV/XML']
  },
  {
    id: 'base64-encoder',
    name: 'Base64 ç¼–è§£ç ',
    description: 'Base64 ç¼–ç ä¸è§£ç ï¼Œæ”¯æŒæ–‡æœ¬å’Œå›¾ç‰‡',
    category: ToolCategory.ENCODER,
    icon: 'FileCode',
    path: '/tools/base64',
    keywords: ['base64', 'ç¼–ç ', 'è§£ç '],
    priority: 2,
    features: ['æ–‡æœ¬ç¼–è§£ç ', 'å›¾ç‰‡è½¬Base64', 'Base64è½¬å›¾ç‰‡']
  },
  // ... æ›´å¤šå·¥å…·é…ç½®
];
```

#### 2.3.2 å·¥å…·ç»„ä»¶é€šç”¨æ¥å£

```typescript
// src/types/tool.ts
export interface ToolComponentProps {
  data?: any;                    // å·¥å…·æ•°æ®
  onChange?: (data: any) => void; // æ•°æ®å˜æ›´å›è°ƒ
}

export interface ToolState {
  input: string;                 // è¾“å…¥æ•°æ®
  output: string;                // è¾“å‡ºæ•°æ®
  error?: string;                // é”™è¯¯ä¿¡æ¯
  isProcessing: boolean;         // å¤„ç†ä¸­çŠ¶æ€
  options: Record<string, any>;  // å·¥å…·é€‰é¡¹
}

// æ‰€æœ‰å·¥å…·ç»„ä»¶åº”éµå¾ªçš„æ ‡å‡†æ¥å£
export interface StandardToolProps {
  className?: string;            // è‡ªå®šä¹‰ç±»å
  initialData?: string;          // åˆå§‹æ•°æ®
  onResult?: (result: ToolResult) => void; // ç»“æœå›è°ƒ
}

export interface ToolResult {
  success: boolean;              // æ˜¯å¦æˆåŠŸ
  data: string;                  // ç»“æœæ•°æ®
  error?: string;                // é”™è¯¯ä¿¡æ¯
  metadata?: Record<string, any>; // å…ƒæ•°æ®
}
```

### 2.4 çŠ¶æ€ç®¡ç†è®¾è®¡

#### 2.4.1 UIçŠ¶æ€ç®¡ç† (Zustand)

```typescript
// src/stores/uiStore.ts
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface UIState {
  // ä¸»é¢˜
  theme: 'light' | 'dark' | 'system';
  setTheme: (theme: 'light' | 'dark' | 'system') => void;

  // ä¾§è¾¹æ 
  sidebarCollapsed: boolean;
  toggleSidebar: () => void;

  // æœ€è¿‘ä½¿ç”¨çš„å·¥å…·
  recentTools: string[];
  addRecentTool: (toolId: string) => void;

  // æ”¶è—çš„å·¥å…·
  favoriteTools: string[];
  toggleFavorite: (toolId: string) => void;
}

export const useUIStore = create<UIState>()(
  persist(
    (set) => ({
      theme: 'system',
      setTheme: (theme) => set({ theme }),

      sidebarCollapsed: false,
      toggleSidebar: () => set((state) => ({ sidebarCollapsed: !state.sidebarCollapsed })),

      recentTools: [],
      addRecentTool: (toolId) => set((state) => ({
        recentTools: [toolId, ...state.recentTools.filter(id => id !== toolId)].slice(0, 10)
      })),

      favoriteTools: [],
      toggleFavorite: (toolId) => set((state) => ({
        favoriteTools: state.favoriteTools.includes(toolId)
          ? state.favoriteTools.filter(id => id !== toolId)
          : [...state.favoriteTools, toolId]
      })),
    }),
    {
      name: 'devtools-ui-storage',
    }
  )
);
```

#### 2.4.2 å·¥å…·çŠ¶æ€ç®¡ç†

```typescript
// src/stores/toolStore.ts
import { create } from 'zustand';

interface ToolHistory {
  toolId: string;
  timestamp: number;
  input: string;
  output: string;
}

interface ToolState {
  // å½“å‰å·¥å…·
  currentTool: string | null;
  setCurrentTool: (toolId: string | null) => void;

  // å·¥å…·å†å²
  history: ToolHistory[];
  addHistory: (entry: Omit<ToolHistory, 'timestamp'>) => void;
  clearHistory: (toolId?: string) => void;

  // å·¥å…·æ•°æ®ç¼“å­˜
  toolData: Record<string, any>;
  setToolData: (toolId: string, data: any) => void;
  getToolData: (toolId: string) => any;
}

export const useToolStore = create<ToolState>((set, get) => ({
  currentTool: null,
  setCurrentTool: (toolId) => set({ currentTool: toolId }),

  history: [],
  addHistory: (entry) => set((state) => ({
    history: [
      { ...entry, timestamp: Date.now() },
      ...state.history.slice(0, 99) // ä¿ç•™æœ€è¿‘100æ¡
    ]
  })),
  clearHistory: (toolId) => set((state) => ({
    history: toolId
      ? state.history.filter(h => h.toolId !== toolId)
      : []
  })),

  toolData: {},
  setToolData: (toolId, data) => set((state) => ({
    toolData: { ...state.toolData, [toolId]: data }
  })),
  getToolData: (toolId) => get().toolData[toolId],
}));
```

### 2.5 è·¯ç”±è®¾è®¡

#### 2.5.1 è·¯ç”±ç»“æ„

```
/                              # é¦–é¡µ - å·¥å…·å¯¼èˆª
/tools                         # å·¥å…·åˆ—è¡¨é¡µ
/tools/:toolId                 # å·¥å…·è¯¦æƒ…é¡µï¼ˆåŠ¨æ€è·¯ç”±ï¼‰
/tools/json                    # JSONå·¥å…·
/tools/base64                  # Base64å·¥å…·
/tools/regex                   # æ­£åˆ™è¡¨è¾¾å¼
/tools/timestamp               # æ—¶é—´æˆ³è½¬æ¢
/tools/hash                    # å“ˆå¸Œç”Ÿæˆ
/tools/uuid                    # UUIDç”Ÿæˆ
/tools/markdown                # Markdownç¼–è¾‘å™¨
...
/settings                      # è®¾ç½®é¡µé¢
/settings/theme                # ä¸»é¢˜è®¾ç½®
/settings/history              # å†å²è®°å½•
/settings/about                # å…³äºé¡µé¢
```

#### 2.5.2 è·¯ç”±é…ç½®

```typescript
// src/lib/constants/routes.ts
export const routes = {
  home: '/',
  tools: '/tools',
  tool: (id: string) => `/tools/${id}`,
  settings: '/settings',
  settingsTheme: '/settings/theme',
  settingsHistory: '/settings/history',
  settingsAbout: '/settings/about',
} as const;

// å·¥å…·è·¯ç”±è‡ªåŠ¨ç”Ÿæˆ
export const generateToolRoutes = (tools: ToolConfig[]) => {
  return tools.map(tool => ({
    path: tool.path,
    name: tool.name,
    component: () => import(`./tools/${tool.id}/page.tsx`),
  }));
};
```

### 2.6 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

#### 2.6.1 ä»£ç åˆ†å‰²

```typescript
// åŠ¨æ€å¯¼å…¥å¤§å‹ä¾èµ–
const MonacoEditor = dynamic(() => import('@monaco-editor/react'), {
  loading: () => <EditorSkeleton />,
  ssr: false, // Monacoä¸æ”¯æŒSSR
});

// å·¥å…·ç»„ä»¶æ‡’åŠ è½½
const tools = {
  json: dynamic(() => import('@/components/tools/json/JsonTool')),
  base64: dynamic(() => import('@/components/tools/base64/Base64Tool')),
  // ...
};
```

#### 2.6.2 Web Worker å¤§æ–‡ä»¶å¤„ç†

```typescript
// src/workers/formatter.worker.ts
export const formatterWorker = new Worker(
  new URL('./workers/formatter.worker.ts', import.meta.url),
  { type: 'module' }
);

// ä½¿ç”¨ç¤ºä¾‹
const formatLargeFile = async (content: string) => {
  return new Promise((resolve, reject) => {
    formatterWorker.postMessage({ type: 'format-json', data: content });
    formatterWorker.onmessage = (e) => {
      if (e.data.error) reject(e.data.error);
      else resolve(e.data.result);
    };
  });
};
```

#### 2.6.3 è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ï¼‰

```typescript
// ä½¿ç”¨ react-window å¤„ç†å¤§åˆ—è¡¨
import { FixedSizeList } from 'react-window';

const LargeList = ({ items }) => (
  <FixedSizeList
    height={600}
    itemCount={items.length}
    itemSize={50}
    width="100%"
  >
    {({ index, style }) => (
      <div style={style}>{items[index]}</div>
    )}
  </FixedSizeList>
);
```

### 2.7 PWAé…ç½®

#### 2.7.1 manifest.json

```json
{
  "name": "DevToolsKit - å¼€å‘è€…å·¥å…·ç®±",
  "short_name": "DevToolsKit",
  "description": "ç¨‹åºå‘˜åœ¨çº¿å¼€å‘å·¥å…·ç®±",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#3b82f6",
  "orientation": "portrait-primary",
  "icons": [
    {
      "src": "/icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ],
  "categories": ["productivity", "utilities", "developer"],
  "shortcuts": [
    {
      "name": "JSONæ ¼å¼åŒ–",
      "short_name": "JSON",
      "description": "å¿«é€Ÿæ‰“å¼€JSONæ ¼å¼åŒ–å·¥å…·",
      "url": "/tools/json",
      "icons": [{ "src": "/icons/json.png", "sizes": "96x96" }]
    },
    {
      "name": "Base64ç¼–è§£ç ",
      "short_name": "Base64",
      "description": "å¿«é€Ÿæ‰“å¼€Base64ç¼–è§£ç å·¥å…·",
      "url": "/tools/base64",
      "icons": [{ "src": "/icons/base64.png", "sizes": "96x96" }]
    }
  ]
}
```

#### 2.7.2 Service Workeré…ç½®

```typescript
// next.config.js
module.exports = {
  // ...
  webpack(config) {
    config.plugins.push(
      new NextPwa({
        dest: 'public',
        register: true,
        skipWaiting: true,
        disable: process.env.NODE_ENV === 'development',
        runtimeCaches: [
          {
            urlPattern: /^https:\/\/fonts\.googleapis\.com\/.*/i,
            handler: 'CacheFirst',
            options: {
              cacheName: 'google-fonts-cache',
              expiration: {
                maxEntries: 10,
                maxAgeSeconds: 60 * 60 * 24 * 365 // 1 year
              }
            }
          },
          {
            urlPattern: /\.(?:js|css|html|json)$/,
            handler: 'StaleWhileRevalidate',
            options: {
              cacheName: 'static-resources',
              expiration: {
                maxEntries: 100,
                maxAgeSeconds: 60 * 60 * 24 * 7 // 7 days
              }
            }
          }
        ]
      })
    );
    return config;
  }
};
```

---

## ä¸‰ã€ç•Œé¢è®¾è®¡è§„èŒƒ

### 3.1 å¸ƒå±€ç³»ç»Ÿ

#### 3.1.1 æ•´ä½“å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (60px)                              â”‚
â”‚  [Logo] [æœç´¢] [ä¸»é¢˜] [GitHub]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                   â”‚
â”‚ Sidebar  â”‚  Main Content Area               â”‚
â”‚ (240px)  â”‚                                   â”‚
â”‚          â”‚  [å·¥å…·æ ‡é¢˜ + æè¿°]                â”‚
â”‚ [å·¥å…·åˆ†ç±»]â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚          â”‚  â”‚                            â”‚  â”‚
â”‚ - æ–‡æœ¬   â”‚  â”‚     å·¥å…·ç»„ä»¶åŒºåŸŸ            â”‚  â”‚
â”‚ - ç¼–ç    â”‚  â”‚                            â”‚  â”‚
â”‚ - æ­£åˆ™   â”‚  â”‚     (åŠ¨æ€åŠ è½½)              â”‚  â”‚
â”‚ - ...    â”‚  â”‚                            â”‚  â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                   â”‚
â”‚          â”‚  [å·¥å…·è¯´æ˜ + å¿«æ·é”®]              â”‚
â”‚          â”‚                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Footer (40px)                              â”‚
â”‚  [å…³äº] [åé¦ˆ] [éšç§] [ç‰ˆæœ¬]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.1.2 å“åº”å¼æ–­ç‚¹

```typescript
// tailwind.config.ts
export default {
  theme: {
    screens: {
      'sm': '640px',   // ç§»åŠ¨è®¾å¤‡
      'md': '768px',   // å¹³æ¿è®¾å¤‡
      'lg': '1024px',  // æ¡Œé¢è®¾å¤‡ï¼ˆä¾§è¾¹æ æ˜¾ç¤ºï¼‰
      'xl': '1280px',  // å¤§å±å¹•
      '2xl': '1536px', // è¶…å¤§å±å¹•
    },
  },
};
```

### 3.2 è®¾è®¡ç³»ç»Ÿ

#### 3.2.1 é¢œè‰²è§„èŒƒ

```typescript
// src/styles/themes/light.css
:root {
  /* ä¸»è‰²è°ƒ */
  --primary-50: #eff6ff;
  --primary-100: #dbeafe;
  --primary-200: #bfdbfe;
  --primary-300: #93c5fd;
  --primary-400: #60a5fa;
  --primary-500: #3b82f6;
  --primary-600: #2563eb;
  --primary-700: #1d4ed8;
  --primary-800: #1e40af;
  --primary-900: #1e3a8a;

  /* ä¸­æ€§è‰² */
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;

  /* åŠŸèƒ½è‰² */
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #3b82f6;

  /* èƒŒæ™¯è‰² */
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --bg-tertiary: #f3f4f6;

  /* æ–‡æœ¬è‰² */
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;

  /* è¾¹æ¡†è‰² */
  --border-color: #e5e7eb;
}

// æš—è‰²ä¸»é¢˜
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;

    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --text-tertiary: #64748b;

    --border-color: #334155;
  }
}
```

#### 3.2.2 å­—ä½“è§„èŒƒ

```typescript
// Interå­—ä½“å®¶æ—
const typography = {
  fontFamily: {
    sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
    mono: ['JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'monospace'],
  },

  fontSize: {
    xs: ['0.75rem', { lineHeight: '1rem' }],     // 12px
    sm: ['0.875rem', { lineHeight: '1.25rem' }], // 14px
    base: ['1rem', { lineHeight: '1.5rem' }],    // 16px
    lg: ['1.125rem', { lineHeight: '1.75rem' }], // 18px
    xl: ['1.25rem', { lineHeight: '1.75rem' }],  // 20px
    '2xl': ['1.5rem', { lineHeight: '2rem' }],   // 24px
    '3xl': ['1.875rem', { lineHeight: '2.25rem' }], // 30px
    '4xl': ['2.25rem', { lineHeight: '2.5rem' }],   // 36px
  },

  fontWeight: {
    normal: '400',
    medium: '500',
    semibold: '600',
    bold: '700',
  },
};
```

#### 3.2.3 é—´è·è§„èŒƒ

```typescript
// 8pxåŸºå‡†é—´è·ç³»ç»Ÿ
const spacing = {
  0: '0',
  1: '0.25rem',   // 4px
  2: '0.5rem',    // 8px
  3: '0.75rem',   // 12px
  4: '1rem',      // 16px
  5: '1.25rem',   // 20px
  6: '1.5rem',    // 24px
  8: '2rem',      // 32px
  10: '2.5rem',   // 40px
  12: '3rem',     // 48px
  16: '4rem',     // 64px
};
```

#### 3.2.4 åœ†è§’è§„èŒƒ

```typescript
const borderRadius = {
  none: '0',
  sm: '0.25rem',   // 4px
  DEFAULT: '0.375rem', // 6px
  md: '0.5rem',    // 8px
  lg: '0.75rem',   // 12px
  xl: '1rem',      // 16px
  '2xl': '1.5rem', // 24px
  full: '9999px',
};
```

### 3.3 ç»„ä»¶è§„èŒƒ

#### 3.3.1 æŒ‰é’®ç»„ä»¶

```typescript
// src/components/ui/Button.tsx
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'ghost' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  loading?: boolean;
  icon?: React.ReactNode;
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  loading = false,
  icon,
  children,
  disabled,
  ...props
}) => {
  const baseStyles = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';

  const variants = {
    primary: 'bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500',
    ghost: 'bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500',
    danger: 'bg-error text-white hover:bg-red-600 focus:ring-red-500',
  };

  const sizes = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg',
  };

  return (
    <button
      className={`${baseStyles} ${variants[variant]} ${sizes[size]}`}
      disabled={disabled || loading}
      {...props}
    >
      {loading && <Loader className="mr-2 h-4 w-4 animate-spin" />}
      {icon && !loading && <span className="mr-2">{icon}</span>}
      {children}
    </button>
  );
};
```

#### 3.3.2 è¾“å…¥æ¡†ç»„ä»¶

```typescript
// src/components/ui/Input.tsx
interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label?: string;
  error?: string;
  helperText?: string;
  leftIcon?: React.ReactNode;
  rightIcon?: React.ReactNode;
}

export const Input: React.FC<InputProps> = ({
  label,
  error,
  helperText,
  leftIcon,
  rightIcon,
  className = '',
  ...props
}) => {
  const baseStyles = 'block w-full rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50';

  const colorStyles = error
    ? 'border-error focus:ring-error'
    : 'border-gray-300 focus:ring-primary-500';

  return (
    <div className="w-full">
      {label && (
        <label className="mb-1 block text-sm font-medium text-gray-700">
          {label}
        </label>
      )}
      <div className="relative">
        {leftIcon && (
          <div className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
            {leftIcon}
          </div>
        )}
        <input
          className={`${baseStyles} ${colorStyles} ${leftIcon ? 'pl-10' : ''} ${rightIcon ? 'pr-10' : ''} ${className}`}
          {...props}
        />
        {rightIcon && (
          <div className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">
            {rightIcon}
          </div>
        )}
      </div>
      {error && (
        <p className="mt-1 text-sm text-error">{error}</p>
      )}
      {helperText && !error && (
        <p className="mt-1 text-sm text-gray-500">{helperText}</p>
      )}
    </div>
  );
};
```

### 3.4 å·¥å…·é¡µé¢é€šç”¨å¸ƒå±€

```typescript
// src/components/layout/ToolLayout.tsx
interface ToolLayoutProps {
  tool: ToolConfig;
  children: React.ReactNode;
  actions?: React.ReactNode;
  shortcuts?: Record<string, string>;
}

export const ToolLayout: React.FC<ToolLayoutProps> = ({
  tool,
  children,
  actions,
  shortcuts,
}) => {
  return (
    <div className="flex h-full flex-col">
      {/* å·¥å…·å¤´éƒ¨ */}
      <div className="border-b border-gray-200 bg-white px-6 py-4 dark:border-gray-700 dark:bg-gray-800">
        <div className="flex items-center justify-between">
          <div>
            <h1 className="flex items-center text-2xl font-bold text-gray-900 dark:text-white">
              <tool.icon className="mr-3 h-8 w-8" />
              {tool.name}
            </h1>
            <p className="mt-1 text-sm text-gray-600 dark:text-gray-400">
              {tool.description}
            </p>
          </div>
          {actions && (
            <div className="flex items-center space-x-2">{actions}</div>
          )}
        </div>
      </div>

      {/* å·¥å…·å†…å®¹åŒº */}
      <div className="flex-1 overflow-auto p-6">
        {children}
      </div>

      {/* å·¥å…·è¯´æ˜å’Œå¿«æ·é”® */}
      <div className="border-t border-gray-200 bg-gray-50 px-6 py-3 dark:border-gray-700 dark:bg-gray-900">
        <div className="flex items-center justify-between text-sm">
          <div className="flex items-center space-x-4">
            <span className="text-gray-600 dark:text-gray-400">
              ğŸ’¡ {tool.features?.join(' Â· ')}
            </span>
          </div>
          {shortcuts && (
            <div className="flex items-center space-x-3">
              {Object.entries(shortcuts).map(([key, desc]) => (
                <span key={key} className="text-gray-600 dark:text-gray-400">
                  <kbd className="rounded bg-gray-200 px-2 py-1 text-xs dark:bg-gray-700">{key}</kbd>
                  {desc}
                </span>
              ))}
            </div>
          )}
        </div>
      </div>
    </div>
  );
};
```

---

## å››ã€å¼€å‘è§„èŒƒ

### 4.1 ä»£ç é£æ ¼

#### 4.1.1 ESLinté…ç½®

```javascript
// .eslintrc.js
module.exports = {
  extends: [
    'next/core-web-vitals',
    'prettier'
  ],
  rules: {
    'react-hooks/exhaustive-deps': 'warn',
    '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
    '@typescript-eslint/no-explicit-any': 'warn',
    'no-console': ['warn', { allow: ['warn', 'error'] }],
  },
};
```

#### 4.1.2 Prettieré…ç½®

```javascript
// .prettierrc
module.exports = {
  semi: true,
  singleQuote: true,
  tabWidth: 2,
  trailingComma: 'es5',
  printWidth: 100,
  arrowParens: 'always',
};
```

### 4.2 Gitæäº¤è§„èŒƒ

```bash
# Conventional Commits
<type>(<scope>): <subject>

# ç±»å‹
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•
chore: æ„å»º/å·¥å…·é“¾æ›´æ–°

# ç¤ºä¾‹
feat(json): æ·»åŠ JSONè½¬CSVåŠŸèƒ½
fix(base64): ä¿®å¤ä¸­æ–‡ç¼–ç é—®é¢˜
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
```

### 4.3 æµ‹è¯•ç­–ç•¥

```typescript
// tests/unit/lib/encoders/base64.test.ts
import { describe, it, expect } from 'vitest';
import { base64Encode, base64Decode } from '@/lib/encoders/base64';

describe('Base64 Encoder', () => {
  it('should encode text correctly', () => {
    expect(base64Encode('Hello World')).toBe('SGVsbG8gV29ybGQ=');
  });

  it('should decode base64 correctly', () => {
    expect(base64Decode('SGVsbG8gV29ybGQ=')).toBe('Hello World');
  });

  it('should handle UTF-8 characters', () => {
    expect(base64Encode('ä½ å¥½')).toBe('5L2g5aW9');
  });

  it('should throw error on invalid base64', () => {
    expect(() => base64Decode('invalid!base64')).toThrow();
  });
});
```

### 4.4 é”™è¯¯å¤„ç†è§„èŒƒ

```typescript
// src/lib/utils/errors.ts
export class ToolError extends Error {
  constructor(
    message: string,
    public code: string,
    public details?: any
  ) {
    super(message);
    this.name = 'ToolError';
  }
}

export const handleToolError = (error: unknown) => {
  if (error instanceof ToolError) {
    return {
      message: error.message,
      code: error.code,
      details: error.details,
    };
  }

  if (error instanceof Error) {
    return {
      message: error.message,
      code: 'UNKNOWN_ERROR',
    };
  }

  return {
    message: 'å‘ç”ŸæœªçŸ¥é”™è¯¯',
    code: 'UNKNOWN_ERROR',
  };
};

// ä½¿ç”¨ç¤ºä¾‹
try {
  const result = JSON.parse(input);
} catch (error) {
  throw new ToolError(
    'JSONæ ¼å¼é”™è¯¯',
    'INVALID_JSON',
    { originalError: error }
  );
}
```

---

## äº”ã€éƒ¨ç½²ä¸è¿ç»´

### 5.1 æ„å»ºé…ç½®

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,

  // ç¯å¢ƒå˜é‡
  env: {
    NEXT_PUBLIC_APP_NAME: 'DevToolsKit',
    NEXT_PUBLIC_APP_VERSION: process.env.npm_package_version,
  },

  // PWA
  experimental: {
    pwa: true,
  },

  // å›¾ç‰‡ä¼˜åŒ–
  images: {
    domains: [],
    unoptimized: true, // é™æ€éƒ¨ç½²æ—¶ç¦ç”¨ä¼˜åŒ–
  },

  // è¾“å‡ºé…ç½®
  output: 'export', // é™æ€HTMLå¯¼å‡º
  trailingSlash: true,
  distDir: 'out',
};

module.exports = nextConfig;
```

### 5.2 ç¯å¢ƒå˜é‡

```bash
# .env.local
NEXT_PUBLIC_APP_URL=https://devtools-kit.com
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_SENTRY_DSN=https://...
```

### 5.3 éƒ¨ç½²æ¸…å•

- [ ] ä»£ç æ£€æŸ¥é€šè¿‡ (npm run lint)
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡ (npm run test)
- [ ] E2Eæµ‹è¯•é€šè¿‡ (npm run test:e2e)
- [ ] æ„å»ºæˆåŠŸ (npm run build)
- [ ] PWA manifesté…ç½®æ­£ç¡®
- [ ] metaæ ‡ç­¾é…ç½®å®Œæ•´
- [ ] sitemap.xmlç”Ÿæˆ
- [ ] robots.txté…ç½®
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡ (Lighthouse > 90)
- [ ] æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
**æœ€åæ›´æ–°**: 2025-01-30
**çŠ¶æ€**: è¯¦ç»†å¼€å‘è§„æ ¼
