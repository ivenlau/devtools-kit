# 03-公共组件库规格

## 一、基础UI组件

### 1.1 Button 按钮

#### Props定义

```typescript
// src/components/ui/Button.tsx
export interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'ghost' | 'danger' | 'success';
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  loading?: boolean;
  disabled?: boolean;
  icon?: React.ReactNode;
  iconPosition?: 'left' | 'right';
  fullWidth?: boolean;
  rounded?: boolean;
  children: React.ReactNode;
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  size = 'md',
  loading = false,
  disabled = false,
  icon,
  iconPosition = 'left',
  fullWidth = false,
  rounded = false,
  children,
  className = '',
  ...props
}) => {
  // 实现代码...
};
```

#### 样式变体

```typescript
const variants = {
  primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
  secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500',
  ghost: 'bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500',
  danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
  success: 'bg-green-600 text-white hover:bg-green-700 focus:ring-green-500',
};

const sizes = {
  xs: 'px-2 py-1 text-xs',
  sm: 'px-3 py-1.5 text-sm',
  md: 'px-4 py-2 text-base',
  lg: 'px-6 py-3 text-lg',
  xl: 'px-8 py-4 text-xl',
};
```

#### 使用示例

```tsx
<Button variant="primary" size="md" icon={<Plus />}>
  添加
</Button>

<Button variant="danger" loading={isSubmitting}>
  提交
</Button>

<Button variant="ghost" icon={<Download />} iconPosition="right">
  下载
</Button>
```

---

### 1.2 Input 输入框

#### Props定义

```typescript
// src/components/ui/Input.tsx
export interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label?: string;
  error?: string;
  helperText?: string;
  leftIcon?: React.ReactNode;
  rightIcon?: React.ReactNode;
  onRightIconClick?: () => void;
  fullWidth?: boolean;
  variant?: 'outlined' | 'filled' | 'standard';
}

export const Input: React.FC<InputProps> = ({
  label,
  error,
  helperText,
  leftIcon,
  rightIcon,
  onRightIconClick,
  fullWidth = true,
  variant = 'outlined',
  className = '',
  ...props
}) => {
  // 实现代码...
};
```

#### 特殊类型输入框

```typescript
// 搜索框
export const SearchInput: React.FC<InputProps & { onSearch: (value: string) => void }> = ({
  onSearch,
  ...props
}) => {
  const handleKeyPress = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter') {
      onSearch((e.target as HTMLInputElement).value);
    }
  };

  return (
    <Input
      type="search"
      leftIcon={<Search className="h-4 w-4" />}
      onKeyDown={handleKeyPress}
      {...props}
    />
  );
};

// 数字输入框
export const NumberInput: React.FC<InputProps & {
  min?: number;
  max?: number;
  step?: number;
  value: number;
  onChange: (value: number) => void;
}> = ({ value, onChange, min, max, step = 1, ...props }) => {
  const increment = () => onChange(Math.min(max ?? Infinity, value + step));
  const decrement = () => onChange(Math.max(min ?? -Infinity, value - step));

  return (
    <div className="relative">
      <Input
        type="number"
        value={value}
        onChange={(e) => onChange(parseFloat(e.target.value) || 0)}
        min={min}
        max={max}
        step={step}
        rightIcon={
          <div className="flex flex-col">
            <button onClick={increment} className="hover:text-gray-600">▲</button>
            <button onClick={decrement} className="hover:text-gray-600">▼</button>
          </div>
        }
        {...props}
      />
    </div>
  );
};
```

---

### 1.3 Textarea 文本域

```typescript
// src/components/ui/Textarea.tsx
export interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {
  label?: string;
  error?: string;
  helperText?: string;
  autoResize?: boolean;
  maxHeight?: number;
  fullWidth?: boolean;
}

export const Textarea: React.FC<TextareaProps> = ({
  label,
  error,
  helperText,
  autoResize = false,
  maxHeight,
  fullWidth = true,
  className = '',
  ...props
}) => {
  const textareaRef = useRef<HTMLTextAreaElement>(null);

  useEffect(() => {
    if (autoResize && textareaRef.current) {
      const textarea = textareaRef.current;
      textarea.style.height = 'auto';
      const newHeight = Math.min(maxHeight ?? Infinity, textarea.scrollHeight);
      textarea.style.height = `${newHeight}px`;
    }
  }, [props.value, autoResize, maxHeight]);

  return (
    <div className={`w-full ${fullWidth ? '' : 'inline-block'}`}>
      {label && (
        <label className="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">
          {label}
        </label>
      )}
      <textarea
        ref={textareaRef}
        className={`
          block w-full rounded-md border px-3 py-2 text-sm
          focus:outline-none focus:ring-2 focus:ring-offset-0
          disabled:opacity-50 disabled:cursor-not-allowed
          ${error ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'}
          ${className}
        `}
        {...props}
      />
      {error && <p className="mt-1 text-sm text-red-500">{error}</p>}
      {helperText && !error && <p className="mt-1 text-sm text-gray-500">{helperText}</p>}
    </div>
  );
};
```

---

### 1.4 Select 选择器

```typescript
// src/components/ui/Select.tsx
export interface SelectOption {
  value: string;
  label: string;
  disabled?: boolean;
}

export interface SelectProps {
  label?: string;
  error?: string;
  options: SelectOption[];
  value?: string;
  onChange?: (value: string) => void;
  placeholder?: string;
  disabled?: boolean;
  fullWidth?: boolean;
}

export const Select: React.FC<SelectProps> = ({
  label,
  error,
  options,
  value,
  onChange,
  placeholder = '请选择',
  disabled = false,
  fullWidth = true,
}) => {
  return (
    <div className={`w-full ${fullWidth ? '' : 'inline-block'}`}>
      {label && (
        <label className="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">
          {label}
        </label>
      )}
      <select
        value={value}
        onChange={(e) => onChange?.(e.target.value)}
        disabled={disabled}
        className={`
          block w-full rounded-md border px-3 py-2 text-sm
          focus:outline-none focus:ring-2 focus:ring-offset-0
          disabled:opacity-50 disabled:cursor-not-allowed
          ${error ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'}
        `}
      >
        <option value="">{placeholder}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
      {error && <p className="mt-1 text-sm text-red-500">{error}</p>}
    </div>
  );
};
```

---

### 1.5 Tabs 标签页

```typescript
// src/components/ui/Tabs.tsx
export interface Tab {
  value: string;
  label: string;
  icon?: React.ReactNode;
  disabled?: boolean;
  badge?: string | number;
}

export interface TabsProps {
  tabs: Tab[];
  value: string;
  onChange: (value: string) => void;
  variant?: 'line' | 'card' | 'pills';
  size?: 'sm' | 'md' | 'lg';
  fullWidth?: boolean;
}

export const Tabs: React.FC<TabsProps> = ({
  tabs,
  value,
  onChange,
  variant = 'line',
  size = 'md',
  fullWidth = false,
}) => {
  const tabStyles = {
    line: 'border-b border-gray-200',
    card: 'bg-gray-100 p-1 rounded-lg',
    pills: 'bg-gray-100 p-1 rounded-full',
  };

  return (
    <div className={tabStyles[variant]}>
      <div className={`flex ${fullWidth ? 'w-full' : ''} ${variant === 'line' ? '-mb-px' : ''}`}>
        {tabs.map((tab) => {
          const isActive = value === tab.value;
          const activeStyles = {
            line: isActive
              ? 'border-b-2 border-blue-600 text-blue-600'
              : 'text-gray-600 hover:text-gray-900',
            card: isActive
              ? 'bg-white shadow text-blue-600'
              : 'text-gray-600 hover:text-gray-900',
            pills: isActive
              ? 'bg-blue-600 text-white'
              : 'text-gray-600 hover:text-gray-900',
          };

          return (
            <button
              key={tab.value}
              onClick={() => !tab.disabled && onChange(tab.value)}
              disabled={tab.disabled}
              className={`
                flex items-center gap-2 px-4 py-2 text-sm font-medium transition-colors
                ${tab.disabled ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}
                ${activeStyles[variant]}
              `}
            >
              {tab.icon && <span className="h-4 w-4">{tab.icon}</span>}
              <span>{tab.label}</span>
              {tab.badge && (
                <span className="rounded-full bg-red-500 px-2 py-0.5 text-xs text-white">
                  {tab.badge}
                </span>
              )}
            </button>
          );
        })}
      </div>
    </div>
  );
};
```

---

### 1.6 Modal 对话框

```typescript
// src/components/ui/Modal.tsx
export interface ModalProps {
  open: boolean;
  onClose: () => void;
  title?: string;
  children: React.ReactNode;
  footer?: React.ReactNode;
  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
  closable?: boolean;
  maskClosable?: boolean;
}

export const Modal: React.FC<ModalProps> = ({
  open,
  onClose,
  title,
  children,
  footer,
  size = 'md',
  closable = true,
  maskClosable = true,
}) => {
  if (!open) return null;

  const sizeStyles = {
    sm: 'max-w-sm',
    md: 'max-w-md',
    lg: 'max-w-lg',
    xl: 'max-w-xl',
    full: 'max-w-full mx-4',
  };

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center">
      {/* 遮罩层 */}
      <div
        className="absolute inset-0 bg-black bg-opacity-50"
        onClick={maskClosable ? onClose : undefined}
      />

      {/* 对话框 */}
      <div className={`relative z-10 w-full ${sizeStyles[size]} rounded-lg bg-white shadow-xl`}>
        {/* 头部 */}
        {title && (
          <div className="flex items-center justify-between border-b px-6 py-4">
            <h3 className="text-lg font-semibold">{title}</h3>
            {closable && (
              <button
                onClick={onClose}
                className="text-gray-400 hover:text-gray-600"
              >
                <X className="h-5 w-5" />
              </button>
            )}
          </div>
        )}

        {/* 内容 */}
        <div className="px-6 py-4">{children}</div>

        {/* 底部 */}
        {footer && (
          <div className="flex justify-end gap-2 border-t px-6 py-4">
            {footer}
          </div>
        )}
      </div>
    </div>
  );
};
```

---

### 1.7 Toast 通知

```typescript
// src/components/ui/Toast.tsx
export interface ToastProps {
  type?: 'success' | 'error' | 'info' | 'warning';
  title?: string;
  message: string;
  duration?: number;
  onClose?: () => void;
}

export const Toast: React.FC<ToastProps> = ({
  type = 'info',
  title,
  message,
  duration = 3000,
  onClose,
}) => {
  useEffect(() => {
    if (duration > 0) {
      const timer = setTimeout(() => onClose?.(), duration);
      return () => clearTimeout(timer);
    }
  }, [duration, onClose]);

  const icons = {
    success: <CheckCircle className="h-5 w-5 text-green-500" />,
    error: <XCircle className="h-5 w-5 text-red-500" />,
    info: <Info className="h-5 w-5 text-blue-500" />,
    warning: <AlertCircle className="h-5 w-5 text-yellow-500" />,
  };

  return (
    <div className="flex items-start gap-3 rounded-lg border bg-white p-4 shadow-lg dark:border-gray-700 dark:bg-gray-800">
      {icons[type]}
      <div className="flex-1">
        {title && <div className="font-semibold">{title}</div>}
        <div className="text-sm text-gray-600 dark:text-gray-400">{message}</div>
      </div>
      <button onClick={onClose} className="text-gray-400 hover:text-gray-600">
        <X className="h-4 w-4" />
      </button>
    </div>
  );
};

// Toast Hook
export const useToast = () => {
  const [toasts, setToasts] = useState<ToastProps[]>([]);

  const show = (props: Omit<ToastProps, 'onClose'>) => {
    const id = Date.now();
    const toast = { ...props, id };
    setToasts(prev => [...prev, toast]);
  };

  const remove = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return {
    toasts,
    show,
    success: (message: string) => show({ type: 'success', message }),
    error: (message: string) => show({ type: 'error', message }),
    info: (message: string) => show({ type: 'info', message }),
    warning: (message: string) => show({ type: 'warning', message }),
    remove,
  };
};
```

---

## 二、编辑器组件

### 2.1 CodeEditor 代码编辑器

```typescript
// src/components/editor/CodeEditor.tsx
import Editor from '@monaco-editor/react';

export interface CodeEditorProps {
  value: string;
  onChange?: (value: string | undefined) => void;
  language?: string;
  theme?: 'light' | 'dark';
  readOnly?: boolean;
  height?: string | number;
  minHeight?: string;
  options?: any;
  className?: string;
}

export const CodeEditor: React.FC<CodeEditorProps> = ({
  value,
  onChange,
  language = 'javascript',
  theme = 'light',
  readOnly = false,
  height = '100%',
  minHeight = '300px',
  options = {},
  className = '',
}) => {
  const defaultOptions = {
    minimap: { enabled: false },
    fontSize: 14,
    lineNumbers: 'on' as const,
    scrollBeyondLastLine: false,
    readOnly,
    wordWrap: 'on' as const,
    automaticLayout: true,
    ...options,
  };

  return (
    <div className={`overflow-hidden rounded-lg border ${className}`} style={{ height, minHeight }}>
      <Editor
        value={value}
        onChange={onChange}
        language={language}
        theme={theme === 'dark' ? 'vs-dark' : 'light'}
        options={defaultOptions}
      />
    </div>
  );
};
```

---

### 2.2 DiffEditor 对比编辑器

```typescript
// src/components/editor/DiffEditor.tsx
import DiffEditor from '@monaco-editor/react';

export interface DiffEditorProps {
  original: string;
  modified: string;
  language?: string;
  theme?: 'light' | 'dark';
  height?: string | number;
  options?: any;
}

export const DiffEditorComponent: React.FC<DiffEditorProps> = ({
  original,
  modified,
  language = 'javascript',
  theme = 'light',
  height = '500px',
  options = {},
}) => {
  const defaultOptions = {
    enableSplitViewResizing: false,
    renderSideBySide: true,
    readOnly: true,
    ...options,
  };

  return (
    <div className="rounded-lg border" style={{ height }}>
      <DiffEditor
        original={original}
        modified={modified}
        language={language}
        theme={theme === 'dark' ? 'vs-dark' : 'light'}
        options={defaultOptions}
      />
    </div>
  );
};
```

---

### 2.3 SplitView 分屏组件

```typescript
// src/components/editor/SplitView.tsx
export interface SplitViewProps {
  left: React.ReactNode;
  right: React.ReactNode;
  direction?: 'horizontal' | 'vertical';
  minSize?: number;
  defaultSize?: number;
  className?: string;
}

export const SplitView: React.FC<SplitViewProps> = ({
  left,
  right,
  direction = 'horizontal',
  minSize = 200,
  defaultSize = 50,
  className = '',
}) => {
  const [size, setSize] = useState(defaultSize);
  const [isDragging, setIsDragging] = useState(false);
  const containerRef = useRef<HTMLDivElement>(null);

  const handleMouseDown = () => setIsDragging(true);
  const handleMouseUp = () => setIsDragging(false);
  const handleMouseMove = (e: MouseEvent) => {
    if (!isDragging || !containerRef.current) return;

    const rect = containerRef.current.getBoundingClientRect();
    const percentage = direction === 'horizontal'
      ? ((e.clientX - rect.left) / rect.width) * 100
      : ((e.clientY - rect.top) / rect.height) * 100;

    setSize(Math.max(minSize, Math.min(100 - minSize, percentage)));
  };

  useEffect(() => {
    if (isDragging) {
      document.addEventListener('mousemove', handleMouseMove);
      document.addEventListener('mouseup', handleMouseUp);
      return () => {
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', handleMouseUp);
      };
    }
  }, [isDragging]);

  const isHorizontal = direction === 'horizontal';

  return (
    <div
      ref={containerRef}
      className={`flex ${isHorizontal ? 'flex-row' : 'flex-col'} ${className}`}
      style={{ height: isHorizontal ? '100%' : undefined }}
    >
      <div style={{ [isHorizontal ? 'width' : 'height']: `${size}%` }}>
        {left}
      </div>

      <div
        onMouseDown={handleMouseDown}
        className={`
          cursor-col-resize bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600
          ${isHorizontal ? 'w-1 cursor-col-resize' : 'h-1 cursor-row-resize'}
        `}
      />

      <div style={{ [isHorizontal ? 'width' : 'height']: `${100 - size}%` }}>
        {right}
      </div>
    </div>
  );
};
```

---

## 三、文件处理组件

### 3.1 FileUpload 文件上传

```typescript
// src/components/ui/FileUpload.tsx
export interface FileUploadProps {
  accept?: string;
  multiple?: boolean;
  maxSize?: number; // bytes
  onUpload: (files: File[]) => void;
  onError?: (error: string) => void;
  className?: string;
}

export const FileUpload: React.FC<FileUploadProps> = ({
  accept = '*/*',
  multiple = false,
  maxSize = 10 * 1024 * 1024, // 10MB
  onUpload,
  onError,
  className = '',
}) => {
  const [dragActive, setDragActive] = useState(false);

  const validateFiles = (files: FileList) => {
    const validFiles: File[] = [];

    Array.from(files).forEach(file => {
      if (file.size > maxSize) {
        onError?.(`文件 ${file.name} 超过最大限制 ${formatBytes(maxSize)}`);
      } else {
        validFiles.push(file);
      }
    });

    return validFiles;
  };

  const handleDrop = (e: React.DragEvent) => {
    e.preventDefault();
    setDragActive(false);

    const files = validateFiles(e.dataTransfer.files);
    if (files.length > 0) {
      onUpload(multiple ? files : [files[0]]);
    }
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.files) {
      const files = validateFiles(e.target.files);
      if (files.length > 0) {
        onUpload(multiple ? files : [files[0]]);
      }
    }
  };

  return (
    <div
      onDragEnter={(e) => { e.preventDefault(); setDragActive(true); }}
      onDragLeave={(e) => { e.preventDefault(); setDragActive(false); }}
      onDragOver={(e) => e.preventDefault()}
      onDrop={handleDrop}
      className={`
        flex h-64 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed
        ${dragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}
        ${className}
      `}
    >
      <Upload className="mb-4 h-16 w-16 text-gray-400" />
      <p className="text-lg font-medium text-gray-700">拖拽文件到这里</p>
      <p className="mt-2 text-sm text-gray-500">或点击选择文件</p>
      <input
        type="file"
        accept={accept}
        multiple={multiple}
        onChange={handleChange}
        className="hidden"
      />
      <p className="mt-4 text-xs text-gray-400">最大 {formatBytes(maxSize)}</p>
    </div>
  );
};
```

---

### 3.2 FilePreview 文件预览

```typescript
// src/components/ui/FilePreview.tsx
export interface FilePreviewProps {
  file: File;
  onRemove?: () => void;
}

export const FilePreview: React.FC<FilePreviewProps> = ({ file, onRemove }) => {
  const [preview, setPreview] = useState<string>('');

  useEffect(() => {
    if (file.type.startsWith('image/')) {
      const reader = new FileReader();
      reader.onload = (e) => setPreview(e.target?.result as string);
      reader.readAsDataURL(file);
    }
  }, [file]);

  return (
    <div className="flex items-center gap-3 rounded-lg border p-3">
      {preview ? (
        <img src={preview} alt={file.name} className="h-12 w-12 rounded object-cover" />
      ) : (
        <File className="h-12 w-12 text-gray-400" />
      )}
      <div className="flex-1">
        <div className="text-sm font-medium">{file.name}</div>
        <div className="text-xs text-gray-500">{formatBytes(file.size)}</div>
      </div>
      {onRemove && (
        <button onClick={onRemove} className="text-gray-400 hover:text-red-500">
          <X className="h-5 w-5" />
        </button>
      )}
    </div>
  );
};
```

---

## 四、数据展示组件

### 4.1 Table 表格

```typescript
// src/components/ui/Table.tsx
export interface Column<T> {
  key: string;
  title: string;
  width?: number | string;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, record: T, index: number) => React.ReactNode;
  sorter?: (a: T, b: T) => number;
}

export interface TableProps<T> {
  columns: Column<T>[];
  data: T[];
  rowKey?: string | ((record: T) => string);
  loading?: boolean;
  pagination?: {
    current: number;
    pageSize: number;
    total: number;
    onChange: (page: number, pageSize: number) => void;
  };
  onRow?: (record: T, index: number) => {
    onClick?: () => void;
    onDoubleClick?: () => void;
  };
}

export function Table<T extends Record<string, any>>({
  columns,
  data,
  rowKey = 'id',
  loading = false,
  pagination,
  onRow,
}: TableProps<T>) {
  // 实现代码...
}
```

---

### 4.2 Card 卡片

```typescript
// src/components/ui/Card.tsx
export interface CardProps {
  title?: React.ReactNode;
  extra?: React.ReactNode;
  children: React.ReactNode;
  hoverable?: boolean;
  className?: string;
}

export const Card: React.FC<CardProps> = ({
  title,
  extra,
  children,
  hoverable = false,
  className = '',
}) => {
  return (
    <div className={`
      rounded-lg border bg-white shadow-sm
      ${hoverable ? 'transition-shadow hover:shadow-md' : ''}
      ${className}
    `}>
      {(title || extra) && (
        <div className="flex items-center justify-between border-b px-6 py-4">
          {title && <h3 className="text-lg font-semibold">{title}</h3>}
          {extra && <div>{extra}</div>}
        </div>
      )}
      <div className="px-6 py-4">{children}</div>
    </div>
  );
};
```

---

### 4.3 Badge 徽章

```typescript
// src/components/ui/Badge.tsx
export interface BadgeProps {
  children: React.ReactNode;
  variant?: 'default' | 'success' | 'warning' | 'error' | 'info';
  size?: 'sm' | 'md' | 'lg';
  dot?: boolean;
  count?: number;
  className?: string;
}

export const Badge: React.FC<BadgeProps> = ({
  children,
  variant = 'default',
  size = 'md',
  dot = false,
  count,
  className = '',
}) => {
  const variants = {
    default: 'bg-gray-100 text-gray-800',
    success: 'bg-green-100 text-green-800',
    warning: 'bg-yellow-100 text-yellow-800',
    error: 'bg-red-100 text-red-800',
    info: 'bg-blue-100 text-blue-800',
  };

  const sizes = {
    sm: 'px-2 py-0.5 text-xs',
    md: 'px-2.5 py-1 text-sm',
    lg: 'px-3 py-1.5 text-base',
  };

  return (
    <span className={`
      inline-flex items-center justify-center rounded-full font-medium
      ${variants[variant]} ${sizes[size]}
      ${className}
    `}>
      {dot && <span className="mr-1.5 h-2 w-2 rounded-full bg-current" />}
      {count !== undefined && <span className="mr-1">{count}</span>}
      {children}
    </span>
  );
};
```

---

## 五、加载状态组件

### 5.1 Spinner 加载中

```typescript
// src/components/ui/Spinner.tsx
export interface SpinnerProps {
  size?: 'sm' | 'md' | 'lg';
  color?: string;
  className?: string;
}

export const Spinner: React.FC<SpinnerProps> = ({
  size = 'md',
  color = 'currentColor',
  className = '',
}) => {
  const sizes = {
    sm: 'h-4 w-4',
    md: 'h-6 w-6',
    lg: 'h-8 w-8',
  };

  return (
    <svg
      className={`animate-spin ${sizes[size]} ${className}`}
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      role="status"
    >
      <circle
        className="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke={color}
        strokeWidth="4"
      />
      <path
        className="opacity-75"
        fill={color}
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
      />
    </svg>
  );
};
```

---

### 5.2 Skeleton 骨架屏

```typescript
// src/components/ui/Skeleton.tsx
export interface SkeletonProps {
  variant?: 'text' | 'rectangular' | 'circular';
  width?: string | number;
  height?: string | number;
  className?: string;
}

export const Skeleton: React.FC<SkeletonProps> = ({
  variant = 'text',
  width,
  height,
  className = '',
}) => {
  const variants = {
    text: 'rounded h-4',
    rectangular: 'rounded-md',
    circular: 'rounded-full',
  };

  return (
    <div
      className={`
        animate-pulse bg-gray-200 dark:bg-gray-700
        ${variants[variant]}
        ${className}
      `}
      style={{ width, height }}
    />
  );
};
```

---

## 六、布局组件

### 6.1 Container 容器

```typescript
// src/components/layout/Container.tsx
export interface ContainerProps {
  children: React.ReactNode;
  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
  className?: string;
}

export const Container: React.FC<ContainerProps> = ({
  children,
  size = 'lg',
  className = '',
}) => {
  const sizes = {
    sm: 'max-w-screen-sm',
    md: 'max-w-screen-md',
    lg: 'max-w-screen-lg',
    xl: 'max-w-screen-xl',
    full: 'max-w-full',
  };

  return (
    <div className={`mx-auto px-4 ${sizes[size]} ${className}`}>
      {children}
    </div>
  );
};
```

---

### 6.2 Grid 网格

```typescript
// src/components/layout/Grid.tsx
export interface GridProps {
  children: React.ReactNode;
  cols?: 1 | 2 | 3 | 4 | 6 | 12;
  gap?: number;
  className?: string;
}

export const Grid: React.FC<GridProps> = ({
  children,
  cols = 3,
  gap = 4,
  className = '',
}) => {
  return (
    <div
      className={`grid grid-cols-1 md:grid-cols-${cols} gap-${gap} ${className}`}
      style={{ gap: `${gap * 0.25}rem` }}
    >
      {children}
    </div>
  );
};
```

---

**文档版本**: v2.0
**最后更新**: 2025-01-30
